<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Character Chat - Talkidz</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
      rel="stylesheet"
    />
    <link href="/css/chat5.css" rel="stylesheet"/>
    <script
      src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js">
    </script>
</head>

<body>
<!-- Splash Screen for Loading -->
<div class="splash-container character-loading">
    <div class="splash-content">
        <div class="loading-circle">
            <div class="circle circle-1"></div>
            <div class="circle circle-2"></div>
            <div class="circle circle-3"></div>
        </div>
    </div>
</div>

<!-- Top Bar with Character Name & Language Selector -->
<div class="top-bar">
    <a href="/" class="back-button">
        <svg width="24" height="24" viewBox="0 0 24 24"
             fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
    </a>
    <div class="character-name"></div>

    <!-- Language Selector -->
    <div class="language-select-container">
        <button class="language-select-button" id="languageSelectButton">
            <span class="language-flag" id="currentLanguageFlag"></span>
        </button>
        <div class="language-menu" id="languageMenu">
            <div class="language-menu-content" id="languageMenuContent">
                <!-- Language options dynamically filled in chat.js -->
            </div>
        </div>
    </div>
</div>

<!-- Main Content: Video Backgrounds and Actions -->
<div class="main-container">
    <div class="video-wrapper">
        <div class="background image"></div>
        <video class="background video" id="idleVideo"
               loop muted playsinline disablePictureInPicture></video>
        <video class="background video" id="speakingVideo"
               loop muted playsinline disablePictureInPicture></video>
    </div>
</div>

<!-- Main Action Container with Buttons for Interaction -->
<div class="main-action-container">
    <button id="startButton" class="main-button">Start Conversation</button>
    <button class="character-select-button">
        <div class="character-icon">
            <img src="" alt="Selected character"/>
        </div>
    </button>
    <div class="character-menu">
        <div class="character-menu-content"></div>
    </div>
</div>

<!-- Food and Water Buttons (New for Interaction) -->
<div class="main-action-container">
    <button class="food-button">
        üç∞ <!-- Example: Cake Icon for throwing food -->
    </button>
    <button class="water-button">
        üíß <!-- Water Icon -->
    </button>
</div>

<!-- Confetti Canvas (For Fun and Rewards) -->
<canvas id="confetti-canvas"></canvas>

<!-- Bottom Controls with Logo and Status Indicators -->
<div class="controls-container">
    <div class="logo-container">
        <a href="/" class="logo">Talkidz</a>
        <span class="logo-byline">by Playbox</span>
    </div>
    <div class="status-indicator">
        <div class="status-dot"></div>
        <span class="status-text">Ready to chat</span>
    </div>
    <div class="controls-right">
        <button class="share-button" onclick="shareCharacter()">
            <svg width="24" height="24" viewBox="0 0 24 24"
                 fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 12v8a2 2 0 0 0 2 2h12
                         a2 2 0 0 0 2-2v-8"/>
                <polyline points="16 6 12 2 8 6"/>
                <line x1="12" y1="2" x2="12" y2="15"/>
            </svg>
        </button>
    </div>
</div>

<!-- Include JavaScript file -->
<script type="module" src="/js/chat5.js"></script>
</body>
</html>
