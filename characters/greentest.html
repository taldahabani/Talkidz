<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Screen Video</title>
    <style>
        .container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin: 0 auto;
            height: 800px;
            overflow: hidden;
            background: black;
        }

        .background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
        }

        #mainVideo {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 3;
            mix-blend-mode: screen;
            background: black;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="background.jpg" class="background" alt="Background">
        <video 
            id="mainVideo" 
            playsinline 
            autoplay 
            muted 
            loop
            style="filter: url(#greenscreen);"
        >
            <source src="character.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <svg style="display:none;">
        <defs>
            <filter id="greenscreen">
                <!-- Convert the green color to transparency -->
                <feColorMatrix type="matrix" values="
                    1 0   0   0 0
                    0 1   0   0 0
                    0 0   1   0 0
                    -0.5 -1 -0.5 1 0
                "/>
                <!-- Fine-tune the color to match #009A65 -->
                <feComponentTransfer>
                    <feFuncR type="linear" slope="1.2" intercept="-0.1"/>
                    <feFuncG type="linear" slope="1.1" intercept="-0.1"/>
                    <feFuncB type="linear" slope="1.2" intercept="-0.1"/>
                    <feFuncA type="linear" slope="1.5" intercept="-0.1"/>
                </feComponentTransfer>
            </filter>
        </defs>
    </svg>

    <script>
        const video = document.getElementById('mainVideo');
        
        // Ensure video plays
        video.play().catch(function(error) {
            console.log("Video play failed:", error);
        });

        // Ensure video plays on mobile devices
        document.addEventListener('click', () => {
            video.play().catch(function(error) {
                console.log("Video play failed:", error);
            });
        });
    </script>
</body>
</html>
